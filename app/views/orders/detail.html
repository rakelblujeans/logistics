<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Order Detail #{{order.id}}</h3>
    <a href="#/orders/edit/{{order.id}}">Edit</a>
  </div>
  <div class="panel-body">
    <div class="row">
      <div class="col-xs-6">Delivery Type:</div>
      <div class="col-xs-6">{{order.delivery_type_str}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Full Address:</div>
      <div class="col-xs-6">{{order.full_address}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Shipping Name:</div>
      <div class="col-xs-6">{{order.shipping_name}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Shipping City:</div>
      <div class="col-xs-6">{{order.shipping_city}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Shipping State:</div>
      <div class="col-xs-6">{{order.shipping_state}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Shipping Zip:</div>
      <div class="col-xs-6">{{order.shipping_zip}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Shipping Country:</div>
      <div class="col-xs-6">{{order.shipping_country}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Shipping Apt/Suite:</div>
      <div class="col-xs-6">{{order.shipping_apt_suite}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Shipping Notes:</div>
      <div class="col-xs-6">{{order.shipping_notes}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Arrival Date:</div>
      <div class="col-xs-6">{{order.arrival_date}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Departure Date:</div>
      <div class="col-xs-6">{{order.departure_date}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Language:</div>
      <div class="col-xs-6">{{order.language}}</div>
    </div>
    <div class="row">
      <div class="col-xs-6">Num Phones:</div>
      <div class="col-xs-6">{{order.num_phones}}</div>
    </div>
  </div>
</div>


<div class="row">
  <h4 class="col-xs-12">Assigned Phones</h4>
</div>
  <table class="table" ng-if="order.phones.length > 0">
  <thead>
  <tr>
    <th ng-class="{ascending: sort.column == 'id' && !sort.descending, 
                   descending: sort.column == 'id' && sort.descending}" ng-click="changeSorting('id')">
      # <span ng-show="sort.column == 'id'"> {{ sort.descending | sortOrderIcon }}</span>
    </th>
    <th ng-class="{ascending: sort.column == 'phone_num' && !sort.descending, 
                   descending: sort.column == 'phone_num' && sort.descending}" ng-click="changeSorting('phone_num')">
      Number <span ng-show="sort.column == 'phone_num'"> {{ sort.descending | sortOrderIcon }}</span>
    </th>
    <th ng-class="{ascending: sort.column == 'provider_id' && !sort.descending, 
                   descending: sort.column == 'provider_id' && sort.descending}" ng-click="changeSorting('provider_id')">
      Telco <span ng-show="sort.column == 'provider_id'"> {{ sort.descending | sortOrderIcon }}</span>
    </th>
    <th ng-class="{ascending: sort.column == 'MEID' && !sort.descending, 
                   descending: sort.column == 'MEID' && sort.descending}" ng-click="changeSorting('MEID')">
      MEID <span ng-show="sort.column == 'MEID'"> {{ sort.descending | sortOrderIcon }}</span>
    </th>
    <th ng-class="{ascending: sort.column == 'last_imaged' && !sort.descending, 
                   descending: sort.column == 'last_imaged' && sort.descending}" ng-click="changeSorting('last_imaged')">
      Last Imaged On <span ng-show="sort.column == 'last_imaged'"> {{ sort.descending | sortOrderIcon }}</span>
    </th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr ng-repeat="inv in order.phones | filter:query | orderBy: orderProp | orderBy:sort.column:sort.descending">
    <td ng-class-odd="'odd'" ng-class-even="'even'">
      <a href="#/inventory/{{ inv.id }}">{{ inv.id }}</a></td>
    <td ng-class-odd="'odd'" ng-class-even="'even'">{{ inv.phone_num }}</td>
    <td ng-class-odd="'odd'" ng-class-even="'even'">{{ inv.provider_id }}</td>
    <td ng-class-odd="'odd'" ng-class-even="'even'">{{ inv.MEID }}</td>
    <td ng-class-odd="'odd'" ng-class-even="'even'">{{ inv.last_imaged }}</td>
    <td ng-class-odd="'odd'" ng-class-even="'even'">
      <!--button type="button" class="btn btn-xs btn-default" ng-click="viewDetail($index)">Details</button-->
      <a href="" ng-click="toggleActivation(inv, 'phones')">
        {{ inv.active ? 'Deactivate' : 'Activate' }}
      </a>
    </td>
  </tr>
  </tbody>
  </table>
<p ng-if="order.phones.length == 0">No phones assigned.</p>
